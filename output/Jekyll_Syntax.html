<h1 id="--github-blog-시작기-2">- Github Blog 시작기 2</h1>

<h2 id="1-syntax-highlighting">1. Syntax Highlighting</h2>
<ul>
  <li>코드 가독성과 깔끔한 Code block을 위하여 <code class="language-plaintext highlighter-rouge">rouge</code>의 syntax-highlighter를 설치 및 사용하고자 한다.</li>
</ul>

<h3 id="1-1-rouge란">1-1) rouge란</h3>
<ul>
  <li><a href="https://github.com/rouge-ruby/rouge">Rouge-ruby Repo</a></li>
  <li>Rouge는 pure Ruby syntax highlighter이다.</li>
  <li>Rouge는 가장 대표적으로 사용되는 Ruby 라이브러리임.
    <ul>
      <li>Jekyll에서는 기본적인 syntax 하이라이터로 사용되고, 기본적으로 Rouge는 <code class="language-plaintext highlighter-rouge">\{\% highlight \%\}</code> 템플릿 태그에 wrapping하여 사용함.</li>
    </ul>
  </li>
  <li>Jekyll은 <code class="language-plaintext highlighter-rouge">rouge</code>와 <code class="language-plaintext highlighter-rouge">pygments</code> 두 가지의 Syntax Highlighter를 제공했었는데, Jekyll 3 이후부터 Pygments는 지원하지 않음.</li>
  <li><a href="https://github.com/rouge-ruby/rouge/wiki/List-of-supported-languages-and-lexers">홈페이지</a>를 통해 지원 언어 목록 확인 가능</li>
</ul>

<h3 id="1-2-rouge-설치">1-2) rouge 설치</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">_config.yml</code>을 확인해보면 highlighter가 rouge로 설정이 잡혀있음. 
<br />
<img src="assets/images/20220310_01.png" alt="Rouge 설정" />
<br /></li>
  <li>실제 설치는 아직 안했으므로, gem을 이용해 rouge를 설치해줘야 함.</li>
  <li>Ruby 실행 후 해당 블로그 폴더로 이동 아래 코드 입력
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">rouge</span><span class="w">
</span></code></pre></div>    </div>
    <p><img src="assets/images/20220310_02.png" alt="Rouge 설정" />
<br /></p>
  </li>
  <li>위와 같은 결과 화면이 나오면 설치 성공</li>
</ul>

<h3 id="--스타일-확인하기">- 스타일 확인하기</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">rougify help style</code> 명령어를 통해 rouge에서 제공하는 code snippet의 스타일을 확인할 수 있다.</li>
  <li>
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">available</span><span class="w"> </span><span class="nx">themes:</span><span class="w">
  </span><span class="n">base16</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.dark</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.light</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.monokai</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.monokai.dark</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.monokai.light</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.solarized</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.solarized.dark</span><span class="p">,</span><span class="w"> </span><span class="nx">base16.solarized.light</span><span class="p">,</span><span class="w"> 
  </span><span class="n">bw</span><span class="p">,</span><span class="w"> </span><span class="nx">colorful</span><span class="p">,</span><span class="w"> </span><span class="nx">github</span><span class="p">,</span><span class="w"> </span><span class="nx">gruvbox</span><span class="p">,</span><span class="w"> </span><span class="nx">gruvbox.dark</span><span class="p">,</span><span class="w"> </span><span class="nx">gruvbox.light</span><span class="p">,</span><span class="w"> </span><span class="nx">igorpro</span><span class="p">,</span><span class="w"> </span><span class="nx">magritte</span><span class="p">,</span><span class="w"> </span><span class="nx">molokai</span><span class="p">,</span><span class="w"> </span><span class="nx">monokai</span><span class="p">,</span><span class="w"> </span><span class="nx">monokai.sublime</span><span class="p">,</span><span class="w"> </span><span class="nx">pastie</span><span class="p">,</span><span class="w"> </span><span class="nx">thankful_eyes</span><span class="p">,</span><span class="w"> </span><span class="nx">tulip</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>현재 rouge는 위와 같은 스타일들을 제공함.
    <ul>
      <li>각 테마들을 미리보기하고 싶으면 <a href="https://spsarolkar.github.io/rouge-theme-preview/">홈페이지</a>에서 확인 가능</li>
    </ul>
  </li>
  <li>필자는 <code class="language-plaintext highlighter-rouge">monokai.sublime</code>을 사용하기로 함.</li>
</ul>

<h3 id="--스타일시트-생성하기">- 스타일시트 생성하기</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rougify</span><span class="w"> </span><span class="nx">style</span><span class="w"> </span><span class="nx">monokai.sublime</span><span class="w"> </span><span class="err">&gt;</span><span class="w"> </span><span class="nx">assets/css/syntax.css</span><span class="w">
</span></code></pre></div></div>
<ul>
  <li>위의 명령어로 “assets/css/syntax.css” 위치에 monokai.sublime의 css 파일을 생성할 수 있음.(기존에 있는 경우 덮어쓰기 됨)</li>
</ul>

<h3 id="--스타일-적용하기">- 스타일 적용하기</h3>
<ul>
  <li>스타일을 적용하기 위해 <code class="language-plaintext highlighter-rouge">_layouts/default.html</code> 파일에 해당 css 파일 링크를 연결해주어야 함.
    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">&lt;</span><span class="o">!--</span><span class="w"> </span><span class="n">Styles</span><span class="s1">'n'</span><span class="nx">Scripts</span><span class="w"> </span><span class="o">--</span><span class="err">&gt;</span><span class="w">
  </span><span class="err">&lt;</span><span class="n">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">"stylesheet"</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">"text/css"</span><span class="w"> </span><span class="n">href</span><span class="o">=</span><span class="s2">"/assets/built/screen.css"</span><span class="w"> </span><span class="n">/</span><span class="err">&gt;</span><span class="w">
  </span><span class="err">&lt;</span><span class="n">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">"stylesheet"</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">"text/css"</span><span class="w"> </span><span class="n">href</span><span class="o">=</span><span class="s2">"/assets/built/screen.edited.css"</span><span class="w"> </span><span class="n">/</span><span class="err">&gt;</span><span class="w">
  </span><span class="err">&lt;</span><span class="n">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">"stylesheet"</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">"text/css"</span><span class="w"> </span><span class="n">href</span><span class="o">=</span><span class="s2">"/assets/built/syntax.css"</span><span class="w"> </span><span class="n">/</span><span class="err">&gt;</span><span class="w">
  </span><span class="err">&lt;</span><span class="o">!--</span><span class="w"> </span><span class="n">highlight.js</span><span class="w"> </span><span class="o">--</span><span class="err">&gt;</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>해당 파일에 syntax.css를 연결해주어야 함.</li>
</ul>

<h2 id="2-오류-해결">2. 오류 해결</h2>
<ul>
  <li>해당 post를 테스트하려고 실행 명령어를 입력한 결과 아래와 같은 오류가 발생했다. <br /></li>
</ul>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Liquid</span> <span class="no">Exception</span><span class="p">:</span> <span class="no">Syntax</span> <span class="no">Error</span> <span class="k">in</span> <span class="n">tag</span> <span class="s1">'highlight'</span> <span class="k">while</span> <span class="n">parsing</span> <span class="n">the</span> <span class="n">following</span> <span class="ss">markup: </span><span class="no">Valid</span> <span class="ss">syntax: </span><span class="n">highlight</span> <span class="o">&lt;</span><span class="n">lang</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">linenos</span><span class="p">]</span> <span class="k">in</span> <span class="no">C</span><span class="ss">:/</span><span class="no">Users</span><span class="o">/</span><span class="no">WU736BV</span><span class="o">/</span><span class="no">Desktop</span><span class="o">/</span><span class="n">parksimis</span><span class="p">.</span><span class="nf">github</span><span class="p">.</span><span class="nf">io</span><span class="o">/</span><span class="n">_posts</span><span class="o">/</span><span class="mi">2022</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="no">Jekyll_Syntax</span><span class="p">.</span><span class="nf">md</span>
<span class="no">C</span><span class="ss">:/</span><span class="no">Ruby26</span><span class="o">-</span><span class="n">x64</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">jekyll</span><span class="o">-</span><span class="mf">3.9</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">jekyll</span><span class="o">/</span><span class="n">tags</span><span class="o">/</span><span class="n">highlight</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">21</span><span class="ss">:in</span> <span class="sb">`initialize': Syntax Error in tag 'highlight' while parsing the following markup: (SyntaxError)

Valid syntax: highlight &lt;lang&gt; [linenos]
     &lt;중략&gt;

</span></code></pre></div></div>

<ul>
  <li>엄청난 삽질 끝에 위에 템플릿 태그로 인한 오류인 것을 알게 되었다.</li>
  <li>code block 처리하더라도 템플릿 태그로 인식하는 것 같다.</li>
  <li>이 경우 앞에 <code class="language-plaintext highlighter-rouge">\</code> 처리를 해주자.</li>
</ul>

<h2 id="3-마무리">3. 마무리</h2>
<ul>
  <li>Rouge를 설치하여 syntax highlight를 변경하는 방법을 학습하였다.</li>
  <li>과정은 순탄했으나, 사소한 오류 하나로 오랜 삽질을 경험했다.
    <ul>
      <li>그래도 확실하게 배운 것 같아서 기분이 좋다.</li>
    </ul>
  </li>
</ul>

<h3 id="--참고-사이트">- 참고 사이트</h3>
<ul>
  <li><a href="https://moon9342.github.io/jekyll-rouge">moon9342님 Gitblog - Rouge 이용 가이드</a></li>
  <li><a href="https://hard-carry.com/how-to-change-syntax-highlighter-in-jekyll/">Syntax 테마 설정</a></li>
</ul>
